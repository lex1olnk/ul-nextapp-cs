{
    "version": 2,
    "builds": [
      { "src": "api/main.go", "use": "@vercel/go" },
      { "src": "frontend/package.json", "use": "@vercel/next" }
    ],
    "rewrites": [
      {
        "source": "/api/(.*)",
        "destination": "api/main.go"
      },
      {
        "source": "/(.*)",
        "destination": "/frontend/$1"
      },
      {
        "source": "/player/:id",
        "destination": "/frontend/player/[id]"
      }
    ],
    "cleanUrls": true,
    "trailingSlash": false
  }